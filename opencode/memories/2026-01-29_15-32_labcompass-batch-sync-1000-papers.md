---
title: LabCompass 1000本論文収集用バッチスクリプト作成（超並列版）
date: 2026-01-29T15:32:00+09:00
topics: [LabCompass, DataSync, BatchScript, CiNii, Publications, Parallel]
summary: 現在のデータ状況（Grant:149, Publication:438）が目標1000本に全く足りないため、超並列データ収集用スクリプトbin/parallel_syncを作成。94キーワード、2015-2025年範囲、最大32並列で高速同期可能。
---

# LabCompass 1000本論文収集用バッチスクリプト（超並列版）

## 現在のデータ状況

| データ | 件数 | 目標 | 進捗 |
|--------|------|------|------|
| Publications | 438 | 1000 | 43.8% |
| Grants | 149 | - | - |
| Researchers | 3,382 | - | - |
| Universities | 120 | - | - |

## 作成したスクリプト

| ファイル | 説明 |
|----------|------|
| `bin/parallel_sync` | **超並列版**（推奨）最大32並列 |
| `bin/batch_sync_for_1000_papers` | 逐次実行版（旧） |

## 超並列スクリプトの特徴

- **最大32並列**: `-w 32` で超高速同期
- **94キーワード**: 高頻度キーワードを優先実行
- **プログレスバー**: リアルタイム進捗・ETA表示
- **目標到達自動停止**: 1000本に達したら終了
- **中断再開対応**: Ctrl+C で安全に停止

## 使い方

```bash
# 現在の状況確認
bin/parallel_sync --status

# プレビュー（実行せず確認）
bin/parallel_sync --dry-run

# 8並列で実行（デフォルト）
bin/parallel_sync

# 16並列で実行
bin/parallel_sync -w 16

# 32並列で超高速実行（APIレート制限注意）
bin/parallel_sync -w 32
```

## 推奨設定（レートリミット修正後）

| 状況 | 並列数 | コマンド |
|------|--------|----------|
| 推奨 | 4 | `bin/parallel_sync` |
| 最大 | 8 | `bin/parallel_sync -w 8` |

**注意**: APIレートリミット対策として、デフォルト4並列、最大8並列に制限しています。8以上は自動的に8に抑えられます。

## 注意事項

- CiNii APIへの接続が必要（オフライン時はエラーになる）
- 全キーワード実行は数時間かかる可能性あり
- APIレート制限対策で3秒間隔

## 次回セッション用プロンプト

```
Recall memory "labcompass-batch-sync-1000-papers".

論文1000本収集を超並列で実行してください：

1. **データ状況確認**: `bin/parallel_sync --status`
2. **超並列同期実行**: `bin/parallel_sync -w 16` （16並列推奨）
3. **目標到達後**: `RecalculateScoresJob.perform_now(force: true)` でスコア再計算
4. **検索UI確認**: http://localhost:3000/ で新データを確認

※ネットワーク接続が必要です（CiNii API）
※16並列なら30分〜1時間程度で完了予定
```

## キーワードリスト（94個）

### 高優先度（論文数多い分野）
がん, 機械学習, 人工知能, 深層学習, ロボット, 再生医療, iPS細胞, ゲノム編集, 創薬, 免疫療法, 脳科学, 神経科学, 量子コンピュータ, ナノテクノロジー, 太陽電池, 燃料電池, 半導体, 地震, 防災, 素粒子, プラズマ, 核融合, 超伝導, レーザー

### その他カテゴリ
- AI関連: 自然言語処理, 画像認識, 強化学習, データマイニング...
- 量子関連: 量子計算, 量子暗号, 量子通信...
- 医療関連: 幹細胞, CRISPR, 分子標的, バイオマーカー...
- 環境関連: 水素エネルギー, 脱炭素, 気候変動...
- 宇宙関連: 宇宙探査, 重力波, ブラックホール...
